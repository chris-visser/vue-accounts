<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Strategies | Vue Accounts</title>
    <meta name="description" content="A Vue library to simplify the setup account systems">
    
    
    <link rel="preload" href="/assets/css/0.styles.2fbf6f8b.css" as="style"><link rel="preload" href="/assets/js/app.2cf54051.js" as="script"><link rel="preload" href="/assets/js/11.f0cceb02.js" as="script"><link rel="prefetch" href="/assets/js/10.ab6cef77.js"><link rel="prefetch" href="/assets/js/12.a7b2eb9b.js"><link rel="prefetch" href="/assets/js/13.bf048894.js"><link rel="prefetch" href="/assets/js/2.cb3337ac.js"><link rel="prefetch" href="/assets/js/3.37aa9e79.js"><link rel="prefetch" href="/assets/js/4.10ee5166.js"><link rel="prefetch" href="/assets/js/5.69a32a72.js"><link rel="prefetch" href="/assets/js/6.764e47c3.js"><link rel="prefetch" href="/assets/js/7.a4900be9.js"><link rel="prefetch" href="/assets/js/8.3bc3d187.js"><link rel="prefetch" href="/assets/js/9.a5af096f.js">
    <link rel="stylesheet" href="/assets/css/0.styles.2fbf6f8b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Vue Accounts</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/guide/" class="nav-link router-link-active">Guide</a></div><div class="nav-item"><a href="https://github.com/chris-visser/vue-accounts/releases" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Release Notes
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://github.com/chris-visser/vue-accounts" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/guide/" class="nav-link router-link-active">Guide</a></div><div class="nav-item"><a href="https://github.com/chris-visser/vue-accounts/releases" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Release Notes
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://github.com/chris-visser/vue-accounts" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><a href="/" class="sidebar-link">Home</a></li><li><a href="/guide/" class="sidebar-link">Getting started</a></li><li><div class="sidebar-group"><p class="sidebar-heading open"><span>Core Concepts</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/guide/core-concepts/overview.html" class="sidebar-link">Overview</a></li><li><a href="/guide/core-concepts/the-core.html" class="sidebar-link">The Core</a></li><li><a href="/guide/core-concepts/stores.html" class="sidebar-link">Vuex Store Modules</a></li><li><a href="/guide/core-concepts/components.html" class="sidebar-link">Components</a></li><li><a href="/guide/core-concepts/strategies.html" class="active sidebar-link">Strategies</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guide/core-concepts/strategies.html#modal" class="sidebar-link">Modal</a></li><li class="sidebar-sub-header"><a href="/guide/core-concepts/strategies.html#redirect" class="sidebar-link">Redirect</a></li></ul></li></ul></div></li><li><div class="sidebar-group"><p class="sidebar-heading"><span>Advanced Concepts</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/guide/advanced-concepts/style-guide.html" class="sidebar-link">[WIP] Style Guide</a></li><li><a href="/guide/advanced-concepts/application-structure.html" class="sidebar-link">[WIP] Application Structure</a></li><li><a href="/guide/advanced-concepts/security.html" class="sidebar-link">[WIP] Security</a></li></ul></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="strategies"><a href="#strategies" aria-hidden="true" class="header-anchor">#</a> Strategies</h1> <p>Strategies are mixins that control the behavior of the Gateway.
The gateway is what we refer to when we describe the combination of all forms and components when
they work together to create a user flow. One example of such flow is the authentication flow:</p> <ol><li>Un-authenticated user lands on our app</li> <li>A login form shows up</li> <li>User navigates to the registration form</li> <li>User fills in the form and submits the form</li> <li>An email is sent to the user's email address</li> <li>User is shown a message to verify his/her email address</li> <li>User clicks link in mail and is directed to the app with a verification token</li> <li>User is logged in immediately because of the token
.</li></ol> <p>Right now Vue Accounts supports 2 strategies:</p> <ul><li><strong>Modal</strong>: Shows the gateway in the form of a modal.</li> <li><strong>Redirect</strong>: Directs the users from and an to gateway pages.</li></ul> <h2 id="modal"><a href="#modal" aria-hidden="true" class="header-anchor">#</a> Modal</h2> <p>The Modal Strategy is the simplest strategy. It will load a modal with the required form.
Main advantage of this strategy is that users will not be taken away from whatever they were doing
and it makes the authentication flow really part of your app.</p> <h3 id="using-the-modal-strategy"><a href="#using-the-modal-strategy" aria-hidden="true" class="header-anchor">#</a> Using the Modal Strategy</h3> <p>Add the mixin to your root component like below:</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>gateway-modal</span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script language-javascript">
  <span class="token keyword">import</span> <span class="token punctuation">{</span> ModalStrategy <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@vue-accounts/core'</span><span class="token punctuation">;</span>
  
  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    mixins<span class="token punctuation">:</span> <span class="token punctuation">[</span>ModalStrategy<span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="redirect"><a href="#redirect" aria-hidden="true" class="header-anchor">#</a> Redirect</h2> <p>In some cases the Redirect strategy might be a better choice. Main advantage
of this strategy is that it will give users a more 'secure' feeling since the app
is not visible before the user is authenticated.</p> <p>The Redirect Strategy will use the vue-router to direct the user from and
to the gateway. When users log in, it will redirect the authenticated user
to the index of the private area. In contrast, when the user logs out,
it will direct the user back to the login page.</p> <p>Like the login form, the registration, forgot-password and reset-password forms
will all require a separate page. By default the redirect strategy directs users
to routes that correspond to the name of each form:</p> <ul><li><code>/</code>: The main private page</li> <li><code>/login</code>: The login page</li> <li><code>/registration</code>: The registration page</li> <li><code>/reset-password</code>: The reset password page</li> <li><code>/forgot-password</code>: The forgot password page</li></ul> <h3 id="using-the-redirect-strategy"><a href="#using-the-redirect-strategy" aria-hidden="true" class="header-anchor">#</a> Using the Redirect Strategy</h3> <p>Add the mixin to your root component like below:</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script language-javascript">
  <span class="token keyword">import</span> <span class="token punctuation">{</span> RedirectStrategy <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@vue-accounts/core'</span><span class="token punctuation">;</span>
  
  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    mixins<span class="token punctuation">:</span> <span class="token punctuation">[</span>RedirectStrategy<span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>Now you just need to add the route configuration like below. This will work as default.</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    path<span class="token punctuation">:</span> <span class="token string">'/'</span><span class="token punctuation">,</span>
    name<span class="token punctuation">:</span> <span class="token string">'dashboard'</span><span class="token punctuation">,</span>
    component<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'./pages/Dashboard.vue'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    path<span class="token punctuation">:</span> <span class="token string">'/login'</span><span class="token punctuation">,</span>
    name<span class="token punctuation">:</span> <span class="token string">'login'</span><span class="token punctuation">,</span>
    component<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'./pages/Login.vue'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    path<span class="token punctuation">:</span> <span class="token string">'/registration'</span><span class="token punctuation">,</span>
    name<span class="token punctuation">:</span> <span class="token string">'registration'</span><span class="token punctuation">,</span>
    component<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'./pages/Registration.vue'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    path<span class="token punctuation">:</span> <span class="token string">'/forgot-password'</span><span class="token punctuation">,</span>
    name<span class="token punctuation">:</span> <span class="token string">'forgot-password'</span><span class="token punctuation">,</span>
    component<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'./pages/ForgotPassword.vue'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    path<span class="token punctuation">:</span> <span class="token string">'/reset-password'</span><span class="token punctuation">,</span>
    name<span class="token punctuation">:</span> <span class="token string">'reset-password'</span><span class="token punctuation">,</span>
    component<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'./pages/ResetPassword.vue'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    path<span class="token punctuation">:</span> <span class="token string">'/verify-email'</span><span class="token punctuation">,</span>
    name<span class="token punctuation">:</span> <span class="token string">'verify-email'</span><span class="token punctuation">,</span>
    component<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'./pages/VerifyEmail.vue'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><p>Each page would have its corresponding form. For example the login page
should have something like this:</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>login-form</span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script language-javascript">
  <span class="token keyword">import</span> <span class="token punctuation">{</span> LoginForm <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@vue-accounts/core'</span><span class="token punctuation">;</span>

  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    components<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      LoginForm<span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>You can change the routes by adding the <code>accountRoutes</code> object to your root component:</p> <div class="language-vue extra-class"><pre class="language-vue"><code>export default {
  mixins: [RedirectMixin],
  
  accountRoutes: {
    private: '/admin', // Redirect authenticated users to this page
    login: '/', // Redirect un-authenticated users to this page
    registration: '/register',
    forgotPassword: '/forgot',
    resetPassword: '/reset-password',
  }
}
</code></pre></div><p>Any missing route configurations will automatically be merged with the default values.</p></div> <div class="page-edit"><!----> <!----></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/guide/core-concepts/components.html" class="prev">
          Components
        </a></span> <span class="next"><a href="/guide/advanced-concepts/style-guide.html">
          [WIP] Style Guide
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/assets/js/app.2cf54051.js" defer></script><script src="/assets/js/11.f0cceb02.js" defer></script>
  </body>
</html>
